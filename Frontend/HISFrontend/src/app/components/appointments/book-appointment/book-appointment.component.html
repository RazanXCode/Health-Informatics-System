<div class="card mt-5 mb-5 border-0" style="box-shadow: 0 4px 0 0 rgba(0,0,0,0.1), 0 6px 10px -3px rgba(0,0,0,0.15); border-radius: 0;">
    <div class="card-body">
        <h4 class="mb-4 mt-5 text-center">Book new Appointment</h4>

      <!-- Loading state -->
      <div *ngIf="loading" class="text-center p-4">
        <div class="spinner-border text-primary" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
        <p class="mt-2">Loading available appointments...</p>
      </div>
      
      <!-- Error state -->
      <div *ngIf="error" class="alert alert-danger" role="alert">
        Unable to load available appointments. Please try again later.
      </div>
      
      <!-- Appointment selection and booking -->
      <div *ngIf="!loading && !error">
        <div *ngIf="appointmentOptions.length > 0">
          <div class="mb-3 col-md-9 mx-auto">
            <select id="appointmentSelect" class="form-select " [(ngModel)]="selectedAppointmentId" name="appointmentId">
              <option value="" disabled selected>-- Select an appointment --</option>
              <option *ngFor="let opt of appointmentOptions" [value]="opt.value">
                {{ opt.label }}
              </option>
            </select>
          </div>
          
          <div class="text-center mt-5">
            <button 
            class="btn btn-book-appointment px-4 py-2" 
            [disabled]="!selectedAppointmentId"
            (click)="bookAppointment()">
            Book Appointment
          </button>
          </div>
        </div>
        
        <div *ngIf="appointmentOptions.length === 0" class="text-center p-3 text-muted">
          <p>No appointments are currently available</p>
        </div>
      </div>
    </div>
  </div>